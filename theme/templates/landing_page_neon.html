{% extends "base.html" %}
{% load static %}
{% load custom_filters %}

{% block title %}
    {{ page.meta_title|default:"Django SaaS LaunchKit" }}
{% endblock %}

{% block content %}

<!-- HERO SECTION -->
{% for section in page.sections.all %}
  {% if section.section_type == 'hero' %}
    <section class="py-20 bg-base-100 text-center">
      <div class="max-w-4xl mx-auto px-6 space-y-8">

        <!-- H1 HEADLINE -->
        <h1 class="text-5xl font-extrabold gradient-text mb-4">
          {{ section.heading|default:"Professional Business Website Template" }}
        </h3>

        <!-- H3 SUBHEADLINE -->
        <p class="text-xl opacity-90 max-w-2xl mx-auto">
          {{ section.content|default:"Fully functional. Beautiful design. Easy setup in under 20 minutes." }}
        </p>

        <!-- CTA BUTTON -->
        {% if section.button_text and section.button_link %}
          <a href="{{ section.button_link }}" class="btn btn-primary btn-lg text-white hover-glow hero-button">
            {{ section.button_text|default:"Download Now – Setup in 20 Minutes" }}
          </a>
        {% endif %}

        <!-- SOCIAL PROOF / TRUST BADGE -->
        <div class="mt-6 flex items-center justify-center gap-2 text-sm font-medium text-primary">
          <i class="fas fa-check-circle"></i>
          <span>Ready to Deploy</span>
        </div>

      </div>
    </section>
  {% endif %}
{% endfor %}

<!-- FEATURES SECTION -->
{% for section in page.sections.all %}
{% if section.section_type == 'benefits' %}
  <section class="py-20 bg-base-100 text-center">
    <div class="max-w-4xl mx-auto px-6">
      <h2 class="text-4xl font-bold mb-10">{{ section.heading|default:"This Is Not Just Code — It's Your Headstart" }}</h2>
      <p class="text-lg opacity-80 mb-12">{{ section.content|default:"If you're trying to launch fast, setup time = lost income. That's why we built this kit." }}</p>

      <div class="grid md:grid-cols-3 gap-8">

        <!-- Benefit 1 -->
        {% for benefit in section.benefits.all %}
          <div class="card bg-base-200 p-6 rounded-box shadow-md hover:shadow-xl transition-shadow">
            <i class="{{ benefit.icon_class }} fa-2x text-primary mb-4"></i>
            <h3 class="text-xl font-semibold mb-2">{{ benefit.heading }}</h3>
            <p class="opacity-80">{{ benefit.content }}</p>
          </div>
        {% endfor %}

      </div>
    </div>
  </section>
{% endif %}
{% endfor %}

<!-- PRODUCT DEMO -->
<section class="py-20 bg-base-200 text-center">
<div class="max-w-5xl mx-auto px-6 space-y-8">
    <h2 class="text-4xl font-bold">How It Works</h2>
    <p class="text-lg opacity-80 max-w-2xl mx-auto">Minimal dev experience needed — download, install, and go live.</p>

    <div class="mt-10 flex justify-center">
    <video controls class="w-full max-w-3xl rounded-box shadow-2xl">
        <source src="{% static 'setup-demo.mp4' %}" type="video/mp4" />
        Your browser does not support the video tag.
    </video>
    </div>

    <div class="mt-10 grid md:grid-cols-3 gap-8 text-left">
    <div class="space-y-2">
        <span class="text-3xl font-bold text-primary">1</span>
        <h3 class="text-xl font-semibold">Open the Project</h3>
        <p class="opacity-80">Download the project files</p>
    </div>

    <div class="space-y-2">
        <span class="text-3xl font-bold text-primary">2</span>
        <h3 class="text-xl font-semibold">Install dependencies</h3>
        <p class="opacity-80">Run one command</p>
        <code class="bg-base-100 p-2 rounded-md">./install.sh</code>
    </div>

    <div class="space-y-2">
        <span class="text-3xl font-bold text-primary">3</span>
        <h3 class="text-xl font-semibold">Go Live</h3>
        <p class="opacity-80">Push to production and start running your business today.</p>
    </div>
    </div>
</div>
</section>

<!-- PRICE -->
<section class="py-20 bg-base-100 text-center">
  <div class="max-w-3xl mx-auto px-6 space-y-8">

    <!-- HEADLINE -->
    <h2 class="text-4xl font-bold">Get Everything You Need to Launch</h2>
    <p class="text-lg opacity-80">One-time purchase. Lifetime access. No subscription.</p>

    <!-- PRICE CARD -->
    <div class="card bg-base-200 shadow-xl p-8 max-w-md mx-auto transform hover:scale-105 transition-transform duration-300">
      <h3 class="text-4xl font-extrabold gradient-text">${{ page.current_price|default:"697" }}</h3>
      <p class="line-through opacity-60 mb-2">${{ page.original_price|default:"1394" }}</p>
      <p class="mb-6">You save ${{ page.original_price|default:1394|subtract:page.current_price|default:697 }} today</p>

      <!-- BENEFITS LIST -->
      <ul class="space-y-3 text-left pl-6">
        <li class="flex items-start gap-2">
          <i class="fas fa-check-circle text-success mt-1"></i>
          Functional Website Template
        </li>
        <li class="flex items-start gap-2">
          <i class="fas fa-check-circle text-success mt-1"></i>
          Fully Working Contact Form
        </li>
        <li class="flex items-start gap-2">
          <i class="fas fa-check-circle text-success mt-1"></i>
          Responsive Design (Mobile + Desktop)
        </li>
        <li class="flex items-start gap-2">
          <i class="fas fa-check-circle text-success mt-1"></i>
          Django Admin Panel Included
        </li>
        <li class="flex items-start gap-2">
          <i class="fas fa-check-circle text-success mt-1"></i>
          Easy Setup – Clone & Go Live in 20 Minutes
        </li>
      </ul>

      <!-- BONUSES -->
      <div class="mt-6 pt-6 border-t border-base-300 space-y-2">
        <p class="font-bold text-warning">Bonuses (only for limited time):</p>
        <p><i class="fas fa-gift text-warning mr-2"></i> Bonus #1: Free IT support for 30 days</p>
        <p><i class="fas fa-gift text-warning mr-2"></i> Bonus #2: Auto-setup bash script</p>
      </div>

      <!-- CTA BUTTON -->
      <a href="{% url 'checkout' %}" class="btn btn-primary btn-lg text-white hover-glow mt-6">
        Buy Now – Save $697
      </a>

      <!-- GUARANTEE -->
      <div class="mt-6 text-sm text-accent-content flex items-center justify-center gap-2 text-white">
        <i class="fas fa-shield-alt text-white"></i>
        <p class="text-white">30-day money-back guarantee – no risk, all reward</p>
      </div>

    </div>
  </div>
</section>

<!-- FAQ -->
<section class="py-20 bg-base-200 text-center">
  <div class="max-w-3xl mx-auto px-6 space-y-8">
    <h2 class="text-4xl font-bold mb-4">Frequently Asked Questions</h2>

    {% for faq in page.faqs.all %}
      <details class="collapse collapse-arrow bg-base-100 mb-2">
        <summary class="collapse-title font-medium text-lg">{{ faq.question }}</summary>
        <div class="collapse-content">
          <p>{{ faq.answer }}</p>
        </div>
      </details>
    {% endfor %}

    <!-- Optional: Final CTA inside FAQ -->
    <div class="mt-10 text-center">
      <a href="#pricing" class="btn btn-outline btn-primary">
        Still have questions? Let's talk.
      </a>
    </div>
  </div>
</section>

<!-- FINAL CTA -->
{% get_section page.sections.all 'final_cta' as cta_section %}
{% if cta_section %}
    <!-- CUSTOM FINAL CTA FROM DB -->
    <section class="py-20 bg-primary text-primary-content text-center">
      <div class="max-w-3xl mx-auto px-6 space-y-8">
        <h2 class="text-4xl font-extrabold">{{ section.heading|default:"Ready to launch?" }}</h2>
        <p class="text-lg opacity-90">{{ section.content|default:"No risk. 30-day money-back guarantee." }}</p>

        <div class="flex justify-center gap-6 flex-wrap">
          <a href="{{ section.button_link }}" class="btn btn-lg btn-secondary text-white hover:scale-105 transition-transform glow">
            {{ section.button_text|default:"Buy Now – Save 10+ Hours" }}
          </a>
        </div>

        <p class="text-sm mt-4">
          <i class="fas fa-shield-alt mr-1"></i>
          30-Day Money Back Guarantee · No Risk · Secure Checkout
        </p>
      </div>
    </section>
    {% else %}
    <!-- FALLBACK FINAL CTA -->
    <section class="py-20 bg-primary text-primary-content text-center">
      <div class="max-w-3xl mx-auto px-6 space-y-8">
        <h2 class="text-4xl font-extrabold">Ready to get started?</h2>
        <p class="text-lg opacity-90">Start your business today!</p>

        <div class="flex justify-center gap-6 flex-wrap">
          <a href="/checkout/" class="btn btn-lg btn-secondary text-white hover:scale-105 transition-transform glow">
            Buy Now – Launch in Under 20 Minutes
          </a>
        </div>

        <p class="text-sm mt-4">
          <i class="fas fa-shield-alt mr-1"></i>
          30-Day Money Back Guarantee · No Risk · Secure Checkout
        </p>
      </div>
    </section>
{% endif %}

{% endblock %}